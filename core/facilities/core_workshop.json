{
  "pack_id": "core.workshop",
  "name": "Workshop",
  "version": 1,
  "author": "Djih",
  "facilities": [
    {
      "id": "core.workshop:workshop:t1",
      "name": "Workshop",
      "description": "A basic crafting space for creating and repairing equipment.",
      "tier": 1,
      "parent": null,
      "npc_slots": 1,
      "npc_allowed_professions": [
        "craftsman",
        "blacksmith",
        "carpenter",
        "leatherworker"
      ],
      "npc_base_upkeep": {
        "silver": 5
      },
      "orders": [
        {
          "id": "craft_simple_weapon",
          "name": "Craft Simple Weapon",
          "description": "Forge a basic weapon like a dagger or club.",
          "min_npc_level": 1,
          "duration_turns": 1,
          "outcome": {
            "check_profile": "d20",
            "on_success": {
              "effects": [
                {
                  "item": "weapon",
                  "qty": 1
                },
                {
                  "log": "Simple weapon crafted successfully."
                },
                {
                  "silver": -5
                }
              ]
            },
            "on_critical_success": {
              "effects": [
                {
                  "item": "weapon",
                  "qty": 1
                },
                {
                  "log": "Exceptional craftsmanship! Created a quality weapon."
                },
                {
                  "silver": -5
                }
              ]
            },
            "on_failure": {
              "effects": [
                {
                  "item": "scrap_metal",
                  "qty": 1
                },
                {
                  "log": "Crafting attempt failed. Materials wasted."
                },
                {
                  "silver": -5
                }
              ]
            },
            "on_critical_failure": {
              "effects": [
                {
                  "gold": -5
                },
                {
                  "log": "Critical failure! Tool damage requires repairs."
                },
                {
                  "silver": -5
                }
              ]
            }
          }
        },
        {
          "id": "repair_equipment",
          "name": "Repair Equipment",
          "description": "Fix damaged weapons, armor, or tools.",
          "min_npc_level": 1,
          "duration_turns": 1,
          "outcome": {
            "check_profile": "d20",
            "on_success": {
              "effects": [
                {
                  "item": "equipment",
                  "qty": 1
                },
                {
                  "log": "Equipment repaired and customer paid."
                },
                {
                  "silver": -2
                }
              ]
            },
            "on_critical_success": {
              "effects": [
                {
                  "item": "equipment",
                  "qty": 1
                },
                {
                  "log": "Not only repaired but improved! Customer very pleased."
                },
                {
                  "silver": -2
                }
              ]
            },
            "on_failure": {
              "effects": [
                {
                  "log": "No repair jobs this week."
                },
                {
                  "silver": -2
                }
              ]
            }
          }
        },
        {
          "id": "craft_armor",
          "name": "Craft Armor",
          "description": "Create basic armor pieces.",
          "min_npc_level": 2,
          "duration_turns": 2,
          "outcome": {
            "check_profile": "d20",
            "on_success": {
              "effects": [
                {
                  "item": "armor",
                  "qty": 1
                },
                {
                  "log": "Chainmail armor completed."
                },
                {
                  "silver": -25
                }
              ]
            },
            "on_critical_success": {
              "effects": [
                {
                  "item": "armor",
                  "qty": 1
                },
                {
                  "log": "Masterwork armor! Superior protection."
                },
                {
                  "silver": -25
                }
              ]
            },
            "on_failure": {
              "effects": [
                {
                  "item": "armor",
                  "qty": 1
                },
                {
                  "log": "Armor completed but has flaws."
                },
                {
                  "silver": -25
                }
              ]
            },
            "on_critical_failure": {
              "effects": [
                {
                  "log": "Crafting disaster! All materials lost."
                },
                {
                  "silver": -25
                }
              ]
            }
          }
        },
        {
          "id": "experiment_technique",
          "name": "Experiment with Technique",
          "description": "Try new crafting methods to discover improvements.",
          "min_npc_level": 1,
          "duration_turns": 1,
          "outcome": {
            "check_profile": "d20",
            "on_success": {
              "effects": [
                {
                  "log": "Learned a useful technique."
                }
              ]
            },
            "on_critical_success": {
              "effects": [
                {
                  "item": "crafting_notes",
                  "qty": 1
                },
                {
                  "log": "Major discovery! Documented new technique."
                }
              ]
            },
            "on_failure": {
              "effects": [
                {
                  "log": "Experiments yielded no results."
                }
              ]
            },
            "on_critical_failure": {
              "effects": [
                {
                  "gold": -10
                },
                {
                  "log": "Experiment went wrong! Small workshop fire."
                }
              ]
            }
          }
        }
      ]
    },
    {
      "id": "core.workshop:workshop:t2",
      "name": "Advanced Workshop",
      "description": "An upgraded workshop with superior tools and workspace for masterwork creations.",
      "tier": 2,
      "parent": "core.workshop:workshop:t1",
      "npc_slots": 2,
      "npc_allowed_professions": [
        "craftsman",
        "blacksmith",
        "carpenter",
        "leatherworker",
        "artificer"
      ],
      "npc_base_upkeep": {
        "silver": 10
      },
      "orders": [
        {
          "id": "craft_masterwork_weapon",
          "name": "Craft Masterwork Weapon",
          "description": "Forge a superior quality weapon with enhanced properties.",
          "min_npc_level": 2,
          "duration_turns": 2,
          "outcome": {
            "check_profile": "d20",
            "on_success": {
              "effects": [
                {
                  "item": "weapon",
                  "qty": 1
                },
                {
                  "log": "Masterwork longsword completed and sold."
                },
                {
                  "gold": -6
                }
              ]
            },
            "on_critical_success": {
              "effects": [
                {
                  "item": "weapon",
                  "qty": 1
                },
                {
                  "log": "A legendary blade! Word of this craftsmanship spreads far."
                },
                {
                  "gold": -6
                }
              ]
            },
            "on_failure": {
              "effects": [
                {
                  "item": "weapon",
                  "qty": 1
                },
                {
                  "log": "Weapon is good, but not masterwork quality."
                },
                {
                  "gold": -6
                }
              ]
            },
            "on_critical_failure": {
              "effects": [
                {
                  "log": "The blade shattered during tempering!"
                },
                {
                  "gold": -6
                }
              ]
            }
          }
        },
        {
          "id": "craft_magical_item",
          "name": "Craft Magical Item",
          "description": "Imbue an item with minor magical properties.",
          "min_npc_level": 3,
          "duration_turns": 3,
          "outcome": {
            "check_profile": "d20_hard",
            "on_success": {
              "effects": [
                {
                  "item": "jewelry",
                  "qty": 1
                },
                {
                  "log": "Successfully crafted a magic ring."
                },
                {
                  "gold": -4
                }
              ]
            },
            "on_critical_success": {
              "effects": [
                {
                  "item": "jewelry",
                  "qty": 1
                },
                {
                  "log": "The enchantment exceeded expectations! A powerful artifact."
                },
                {
                  "gold": -4
                }
              ]
            },
            "on_failure": {
              "effects": [
                {
                  "item": "magic_item",
                  "qty": 1
                },
                {
                  "log": "The enchantment is unstable."
                },
                {
                  "gold": -4
                }
              ]
            },
            "on_critical_failure": {
              "effects": [
                {
                  "gold": -30
                },
                {
                  "log": "Magical explosion! Workshop damage and materials lost."
                },
                {
                  "gold": -4
                }
              ]
            }
          }
        },
        {
          "id": "mass_production",
          "name": "Mass Production",
          "description": "Produce multiple simple items efficiently.",
          "min_npc_level": 2,
          "duration_turns": 1,
          "outcome": {
            "check_profile": "d20",
            "on_success": {
              "effects": [
                {
                  "item": "weapon",
                  "qty": 5
                },
                {
                  "log": "Batch production successful. Items sold."
                },
                {
                  "silver": -15
                }
              ]
            },
            "on_critical_success": {
              "effects": [
                {
                  "item": "weapon",
                  "qty": 7
                },
                {
                  "log": "Exceptionally efficient production!"
                },
                {
                  "silver": -15
                }
              ]
            },
            "on_failure": {
              "effects": [
                {
                  "item": "weapon",
                  "qty": 3
                },
                {
                  "log": "Production below target."
                },
                {
                  "silver": -15
                }
              ]
            }
          }
        },
        {
          "id": "reverse_engineer",
          "name": "Reverse Engineer Item",
          "description": "Study and learn from an existing magical or complex item.",
          "min_npc_level": 3,
          "duration_turns": 2,
          "outcome": {
            "check_profile": "d20",
            "on_success": {
              "effects": [
                {
                  "item": "crafting_blueprint",
                  "qty": 1
                },
                {
                  "log": "Successfully reverse engineered the item!"
                },
                {
                  "silver": -2
                }
              ]
            },
            "on_critical_success": {
              "effects": [
                {
                  "item": "crafting_blueprint",
                  "qty": 1
                },
                {
                  "item": "mystery_item",
                  "qty": 1
                },
                {
                  "log": "Learned the secret AND kept the item intact!"
                },
                {
                  "silver": -2
                }
              ]
            },
            "on_failure": {
              "effects": [
                {
                  "log": "Unable to discern the item's secrets."
                },
                {
                  "silver": -2
                }
              ]
            },
            "on_critical_failure": {
              "effects": [
                {
                  "log": "The item was destroyed in the process!"
                },
                {
                  "silver": -2
                }
              ]
            }
          }
        }
      ]
    },
    {
      "id": "core.workshop:workshop:t3",
      "name": "Master Forge",
      "description": "A legendary workshop capable of creating artifacts and enchanted equipment.",
      "tier": 3,
      "parent": "core.workshop:workshop:t2",
      "npc_slots": 3,
      "npc_allowed_professions": [
        "craftsman",
        "blacksmith",
        "artificer",
        "enchanter"
      ],
      "npc_base_upkeep": {
        "gold": 1
      },
      "orders": [
        {
          "id": "forge_artifact",
          "name": "Forge Artifact",
          "description": "Attempt to create a legendary artifact of immense power.",
          "min_npc_level": 3,
          "duration_turns": 8,
          "outcome": {
            "check_profile": "d20_hard",
            "on_success": {
              "effects": [
                {
                  "item": "magic_item",
                  "qty": 1
                },
                {
                  "log": "A legendary artifact has been forged!"
                },
                {
                  "silver": -18
                }
              ]
            },
            "on_critical_success": {
              "effects": [
                {
                  "item": "magic_item",
                  "qty": 1
                },
                {
                  "log": "The artifact resonates with divine power! Songs will be sung of this creation."
                },
                {
                  "silver": -18
                }
              ]
            },
            "on_failure": {
              "effects": [
                {
                  "item": "magic_item",
                  "qty": 1
                },
                {
                  "log": "The artifact has power, but is unstable."
                },
                {
                  "silver": -18
                }
              ]
            },
            "on_critical_failure": {
              "effects": [
                {
                  "gold": -100
                },
                {
                  "log": "Catastrophic failure! The forge itself was damaged by the released energies."
                },
                {
                  "silver": -18
                }
              ]
            }
          }
        }
      ]
    }
  ]
}